function Zam(){this.functions={},this.routes={}}Zam.prototype.e=function(e){return document.querySelectorAll(e)},Zam.prototype.index=function(e){for(var t=0,n=e;null!=(n=n.previousElementSibling);)n.tagName.toLowerCase()===e.target.tagName.toLowerCase()&&t++;return t},Zam.prototype.unbind=function(e,t,n){if("string"==typeof n&&(n=this.functions[n]),"object"!=typeof t)for(var o=document.querySelectorAll(t),i=o.length,s=0;s<i;s++)o[s].removeEventListener(e,n);else t.removeEventListener(e,n)},Zam.prototype.bind=function(e,t,n){if("string"==typeof n&&(n=this.functions[n]),"object"!=typeof t){for(var o=document.querySelectorAll(t),i=o.length,s=0;s<i;s++)o[s].addEventListener(e,n);"anonymous"!==n.name&&(this.functions[n.name]=n)}else t.addEventListener(e,n),"anonymous"!==n.name&&(this.functions[n.name]=n)},Zam.prototype.on=function(e,t,n){if(-1!==e.indexOf(" ")){for(var o=e;-1!==o.indexOf(" ");)this.bind(o.slice(0,o.indexOf(" ")),t,n),o=o.slice(o.indexOf(" ")+1);this.bind(o,t,n)}else this.bind(e,t,n)},Zam.prototype.off=function(e,t,n){if(-1!==e.indexOf(" ")){for(var o=e;-1!==o.indexOf(" ");)this.unbind(o.slice(0,o.indexOf(" ")),t,n),o=o.slice(o.indexOf(" ")+1);this.unbind(o,t,n)}else this.unbind(e,t,n)},Zam.prototype.cssSelector=function(e,t){for(var n=document.querySelectorAll(t),o=n.length,i=0;i<o;i++)this.cssObject(e,n[i])},Zam.prototype.cssAddValue=function(e,t,n){var o,i=n.slice(0,n.indexOf(" "));if(null===(o=e.style[t].match(new RegExp(`(^${i}|, ${i})`,"g"))))e.style[t]+=","+n;else{var s=e.style[t].indexOf(o[0]);o[0].indexOf(",")>-1&&(s+=2);var r=e.style[t].slice(0,s),a=n,l="";-1!==e.style[t].slice(s).indexOf(",")&&(l=e.style[t].slice(e.style[t].slice(s).indexOf(","))),e.style[t]=r+a+l}},Zam.prototype.cssObject=function(e,t){for(var n in e)if(e.hasOwnProperty(n))if(-1!==n.indexOf("-")){var o=e[n],i=n.indexOf("-")+1;n=n.slice(0,i-1)+n[i].toUpperCase()+n.slice(i+1),t.style[n]=o}else if("transition"===n||"animation"===n)if(""===e[n]||""===t.style[n])t.style[n]=e[n];else{for(var s=e[n],r="";-1!==s.indexOf(",");)r=s.slice(0,s.indexOf(",")).trim(),this.cssAddValue(t,n,r),s=s.slice(s.indexOf(",")+1).trim();this.cssAddValue(t,n,s)}else t.style[n]=e[n]},Zam.prototype.css=function(e,t){"object"==typeof t?this.cssObject(e,t):this.cssSelector(e,t)},Zam.prototype.each=function(e,t){var n=document.querySelectorAll(e);Array.prototype.forEach.call(n,function(e,n){t(e,n)})},Zam.prototype.addStyle=function(e,t){var n=document.createElement("style");n.innerHTML=t,n.id=e,document.getElementsByTagName("head")[0].appendChild(n)},Zam.prototype.removeStyle=function(e){var t=document.querySelector("#"+e);t.parentNode.removeChild(t)},Zam.prototype.html=function(e,t){if(e=e.replace(/(?:\r\n|\r|\n)/g,""),"object"==typeof t)t.innerHTML=e;else for(var n=document.querySelectorAll(t),o=n.length,i=0;i<o;i++)n[i].innerHTML=e},Zam.prototype.updateURL=function(e){history.pushState&&window.history.pushState({path:e},"",e)},Zam.prototype.setContent=function(){if(window.location.href.lastIndexOf("/")!==window.location.href.length-1)for(var e in this.routes)-1!==window.location.href.indexOf("/"+this.routes[e].view.slice(1))?this.css({display:this.routes[e].display},this.routes[e].view):this.css({display:"none"},this.routes[e].view);else for(var e in this.routes){this.css({display:this.routes[e].display},this.routes[e].view);break}},Zam.prototype.router=function(e){this.routes=JSON.parse(JSON.stringify(e)),this.setContent(),this.on("popstate",window,()=>{this.setContent()});for(var t in this.routes){var n="click";void 0!==t.event&&(n=t.event),this.on(n,"#"+t,e=>{this.updateURL("/"+this.routes[e.target.id].view.slice(1)),this.setContent()})}},Zam.prototype.ajax=function(e){return void 0===e.method&&(e.method="GET"),void 0===e.data&&(e.data=null),void 0===e.headers&&(e.headers={Accept:"application/json"}),new Promise(function(t,n){var o=new XMLHttpRequest;o.open(e.method,e.url,!0);for(var i in e.headers)e.headers.hasOwnProperty(i)&&o.setRequestHeader(i,e.headers[i]);o.onload=function(i){200===o.status?"appliction/json"===e.headers.Accept?t(JSON.parse(o.responseText)):t(o.responseText):n(Error("ajax failed - error code:"+o.statusText))},o.onerror=function(e){n(Error("ajax failed - error code:"+o.statusText))},o.send(e.data)})};