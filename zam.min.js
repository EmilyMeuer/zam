function Zam(e,t){this.functions={},this.routes={},this.data=void 0===e?{}:e,this.cycled=t,this.runEngine()}Zam.prototype.runEngine=function(){var e=this,t=function(t){var n=document.querySelectorAll("#"+t.target.getAttribute("z-link"))[0],r=n,o=n.innerHTML;if(n.getAttribute("z-data").indexOf("}}")>-1)if(void 0!==e.data[t.target.getAttribute("z-link")])n.innerHTML=e.data[t.target.getAttribute("z-link")],e.data[t.target.getAttribute("z-link")]=o;else{var s=n.getAttribute("z-data").slice(2,n.getAttribute("z-data").indexOf("}}"));if(n.hasAttribute("z-append")){(a=document.createElement("div")).innerHTML=e.data[s],n.appendChild(a),r=a}else if(n.hasAttribute("z-prepend")){(a=document.createElement("div")).innerHTML=e.data[s],n.insertBefore(a,n.firstChild),r=a}else n.innerHTML=e.data[s],e.data[t.target.getAttribute("z-link")]=o}else if(n.hasAttribute("z-append")){(a=document.createElement("div")).innerHTML=n.getAttribute("z-data"),n.appendChild(a),n.setAttribute("z-data",o),r=a}else if(n.hasAttribute("z-prepend")){var a;(a=document.createElement("div")).innerHTML=n.getAttribute("z-data"),n.insertBefore(a,n.firstChild),n.setAttribute("z-data",o),r=a}else n.innerHTML=n.getAttribute("z-data"),n.setAttribute("z-data",o);for(var l=n.querySelectorAll("[z-link=master]"),d=0;d<l.length;d++)l[d].setAttribute("z-link",t.target.getAttribute("z-link"));i(),void 0!==e.cycled&&e.cycled(r,t)},i=function(){for(var i=document.querySelectorAll("[z-link]"),n=0;n<i.length;n++){var r="click";i[n].getAttribute("z-event")&&(r=i[n].getAttribute("z-event")),e.on(r,i[n],t)}};i()},Zam.prototype.e=function(e){return document.querySelectorAll(e)},Zam.prototype.index=function(e){for(var t=0,i=e;null!=(i=i.previousElementSibling);)i.tagName.toLowerCase()===e.target.tagName.toLowerCase()&&t++;return t},Zam.prototype.unbind=function(e,t,i){if("string"==typeof i&&(i=this.functions[i]),"object"!=typeof t)for(var n=document.querySelectorAll(t),r=n.length,o=0;o<r;o++)n[o].removeEventListener(e,i);else t.removeEventListener(e,i)},Zam.prototype.bind=function(e,t,i){if("string"==typeof i&&(i=this.functions[i]),"object"!=typeof t){for(var n=document.querySelectorAll(t),r=n.length,o=0;o<r;o++)n[o].addEventListener(e,i);"anonymous"!==i.name&&(this.functions[i.name]=i)}else t.addEventListener(e,i),"anonymous"!==i.name&&(this.functions[i.name]=i)},Zam.prototype.on=function(e,t,i){if(-1!==e.indexOf(" ")){for(var n=e;-1!==n.indexOf(" ");)this.bind(n.slice(0,n.indexOf(" ")),t,i),n=n.slice(n.indexOf(" ")+1);this.bind(n,t,i)}else this.bind(e,t,i)},Zam.prototype.off=function(e,t,i){if(-1!==e.indexOf(" ")){for(var n=e;-1!==n.indexOf(" ");)this.unbind(n.slice(0,n.indexOf(" ")),t,i),n=n.slice(n.indexOf(" ")+1);this.unbind(n,t,i)}else this.unbind(e,t,i)},Zam.prototype.cssSelector=function(e,t){for(var i=document.querySelectorAll(t),n=i.length,r=0;r<n;r++)this.cssObject(e,i[r])},Zam.prototype.cssAddValue=function(e,t,i){var n,r=i.slice(0,i.indexOf(" "));if(null===(n=e.style[t].match(new RegExp(`(^${r}|, ${r})`,"g"))))e.style[t]+=","+i;else{var o=e.style[t].indexOf(n[0]);n[0].indexOf(",")>-1&&(o+=2);var s=e.style[t].slice(0,o),a=i,l="";-1!==e.style[t].slice(o).indexOf(",")&&(l=e.style[t].slice(e.style[t].slice(o).indexOf(","))),e.style[t]=s+a+l}},Zam.prototype.cssObject=function(e,t){for(var i in e)if(e.hasOwnProperty(i))if(-1!==i.indexOf("-")){var n=e[i],r=i.indexOf("-")+1;i=i.slice(0,r-1)+i[r].toUpperCase()+i.slice(r+1),t.style[i]=n}else if("transition"===i||"animation"===i)if(""===e[i]||""===t.style[i])t.style[i]=e[i];else{for(var o=e[i],s="";-1!==o.indexOf(",");)s=o.slice(0,o.indexOf(",")).trim(),this.cssAddValue(t,i,s),o=o.slice(o.indexOf(",")+1).trim();this.cssAddValue(t,i,o)}else t.style[i]=e[i]},Zam.prototype.css=function(e,t){"object"==typeof t?this.cssObject(e,t):this.cssSelector(e,t)},Zam.prototype.each=function(e,t){var i=document.querySelectorAll(e);Array.prototype.forEach.call(i,function(e,i){t(e,i)})},Zam.prototype.addStyle=function(e,t){var i=document.createElement("style");i.innerHTML=t,i.id=e,document.getElementsByTagName("head")[0].appendChild(i)},Zam.prototype.removeStyle=function(e){var t=document.querySelector("#"+e);t.parentNode.removeChild(t)},Zam.prototype.html=function(e,t){if(e=e.replace(/(?:\r\n|\r|\n)/g,""),"object"==typeof t)t.innerHTML=e;else for(var i=document.querySelectorAll(t),n=i.length,r=0;r<n;r++)i[r].innerHTML=e},Zam.prototype.updateURL=function(e){history.pushState&&window.history.pushState({path:e},"",e)},Zam.prototype.setContent=function(){if(window.location.href.lastIndexOf("/")!==window.location.href.length-1)for(var e in this.routes)-1!==window.location.href.indexOf("/"+this.routes[e].view.slice(1))?this.css({display:this.routes[e].display},this.routes[e].view):this.css({display:"none"},this.routes[e].view);else for(var e in this.routes){this.css({display:this.routes[e].display},this.routes[e].view);break}},Zam.prototype.router=function(e){this.routes=JSON.parse(JSON.stringify(e)),this.setContent(),this.on("popstate",window,()=>{this.setContent()});for(var t in this.routes){var i="click";void 0!==t.event&&(i=t.event),this.on(i,"#"+t,e=>{this.updateURL("/"+this.routes[e.target.id].view.slice(1)),this.setContent()})}},Zam.prototype.ajax=function(e){return void 0===e.method&&(e.method="GET"),void 0===e.data&&(e.data=null),void 0===e.headers&&(e.headers={Accept:"application/json"}),new Promise(function(t,i){var n=new XMLHttpRequest;n.open(e.method,e.url,!0);for(var r in e.headers)e.headers.hasOwnProperty(r)&&n.setRequestHeader(r,e.headers[r]);n.onload=function(r){200===n.status?"appliction/json"===e.headers.Accept?t(JSON.parse(n.responseText)):t(n.responseText):i(Error("ajax failed - error code:"+n.statusText))},n.onerror=function(e){i(Error("ajax failed - error code:"+n.statusText))},n.send(e.data)})};export default Zam;