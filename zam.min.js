function Zam(){}Zam.idCounter=0,Zam.routes={},Zam.getId=function(){return Zam.idCounter++},Zam.component=function(){this.id="a"+Zam.getId(),this.childrenCount=0,this.children={},this.setHTML=function(e){var t=document.createElement("div");t.id=this.id,t.innerHTML=e,this.anchor=t,this.node=t.children[0],this.html=this.anchor.outerHTML}.bind(this),this.cache=function(e,t){return t?(this.children[t]=e,e):this.children[e]}.bind(this),this.mount=function(){this.anchor=document.getElementById(this.id),this.node=this.anchor.children[0];for(var e in this.children)void 0!==document.getElementById(this.children[e].id)?this.children[e].mount():delete this.children[e];this.mounted()}.bind(this)},Zam.replace=function(e,t,n,i){this.on(e,t,()=>{n.innerHTML=i})},Zam.e=function(e){return document.querySelectorAll(e)},Zam.index=function(e){for(var t=0,n=e;null!=(n=n.previousElementSibling);)n.tagName.toLowerCase()===e.target.tagName.toLowerCase()&&t++;return t},Zam.on=function(e,t,n){var i=function(e,t,n){if("object"!=typeof t)for(var i=document.querySelectorAll(t),r=i.length,o=0;o<r;o++)i[o].addEventListener(e,n);else t.addEventListener(e,n)};if(-1!==e.indexOf(" ")){for(var r=e;-1!==r.indexOf(" ");)i(r.slice(0,r.indexOf(" ")),t,n),r=r.slice(r.indexOf(" ")+1);i(r,t,n)}else i(e,t,n)},Zam.off=function(e,t,n){var i=function(e,t,n){if("object"!=typeof t)for(var i=document.querySelectorAll(t),r=i.length,o=0;o<r;o++)i[o].removeEventListener(e,n);else t.removeEventListener(e,n)};if(-1!==e.indexOf(" ")){for(var r=e;-1!==r.indexOf(" ");)i(r.slice(0,r.indexOf(" ")),t,n),r=r.slice(r.indexOf(" ")+1);i(r,t,n)}else i(e,t,n)},Zam.css=function(e,t){var n=function(e,t,n){var i,r=n.slice(0,n.indexOf(" "));if(null===(i=e.style[t].match(new RegExp(`(^${r}|, ${r})`,"g"))))e.style[t]+=","+n;else{var o=e.style[t].indexOf(i[0]);i[0].indexOf(",")>-1&&(o+=2);var s=e.style[t].slice(0,o),a=n,l="";-1!==e.style[t].slice(o).indexOf(",")&&(l=e.style[t].slice(e.style[t].slice(o).indexOf(","))),e.style[t]=s+a+l}},i=function(e,t){for(var i in e)if(e.hasOwnProperty(i))if(-1!==i.indexOf("-")){var r=e[i],o=i.indexOf("-")+1;i=i.slice(0,o-1)+i[o].toUpperCase()+i.slice(o+1),t.style[i]=r}else if("transition"===i||"animation"===i)if(""===e[i]||""===t.style[i])t.style[i]=e[i];else{for(var s=e[i],a="";-1!==s.indexOf(",");)a=s.slice(0,s.indexOf(",")).trim(),n(t,i,a),s=s.slice(s.indexOf(",")+1).trim();n(t,i,s)}else t.style[i]=e[i]};"object"==typeof t?i(e,t):function(e,t){for(var n=document.querySelectorAll(t),r=n.length,o=0;o<r;o++)i(e,n[o])}(e,t)},Zam.each=function(e,t){var n=document.querySelectorAll(e);Array.prototype.forEach.call(n,function(e,n){t(e,n)})},Zam.addStyle=function(e,t){var n=document.createElement("style");n.innerHTML=t,n.id=e,document.getElementsByTagName("head")[0].appendChild(n)},Zam.removeStyle=function(e){var t=document.querySelector("#"+e);t.parentNode.removeChild(t)},Zam.html=function(e,t){if(e=e.replace(/(?:\r\n|\r|\n)/g,""),"object"==typeof t)t.innerHTML=e;else for(var n=document.querySelectorAll(t),i=n.length,r=0;r<i;r++)n[r].innerHTML=e},Zam.router=function(e){this.routes={};var t=function(e){history.pushState&&window.history.pushState({path:e},"",e)},n=function(){if(window.location.href.lastIndexOf("/")!==window.location.href.length-1)for(var e in this.routes)-1!==window.location.href.indexOf("/"+this.routes[e].view.slice(1))?Zam.css({display:this.routes[e].display},this.routes[e].view):Zam.css({display:"none"},this.routes[e].view);else for(var e in this.routes){Zam.css({display:this.routes[e].display},this.routes[e].view);break}}.bind(this);this.routes=JSON.parse(JSON.stringify(e)),n(),Zam.on("popstate",window,()=>{n()});for(var i in this.routes){var r="click";void 0!==i.event&&(r=i.event),Zam.on(r,"#"+i,e=>{t("/"+this.routes[e.target.id].view.slice(1)),n()})}},Zam.ajax=function(e){return void 0===e.method&&(e.method="GET"),void 0===e.data&&(e.data=null),void 0===e.headers&&(e.headers={Accept:"application/json"}),new Promise(function(t,n){var i=new XMLHttpRequest;i.open(e.method,e.url,!0);for(var r in e.headers)e.headers.hasOwnProperty(r)&&i.setRequestHeader(r,e.headers[r]);i.onload=function(r){200===i.status?"appliction/json"===e.headers.Accept?t(JSON.parse(i.responseText)):t(i.responseText):n(Error("ajax failed - error code:"+i.statusText))},i.onerror=function(e){n(Error("ajax failed - error code:"+i.statusText))},i.send(e.data)})};