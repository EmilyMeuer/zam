export default function Zam(){};Zam.idCounter=0,Zam.routes={},Zam.getId=function(){return Zam.idCounter++},Zam.component=function(){this.id="a"+Zam.getId(),this.children={},this.body=function(e){var t=document.createElement("div");t.id=this.id,t.innerHTML=e,this.anchor=t,this.html=t.outerHTML},this.cache=function(e,t){return t?(e.parent=this,this.children[t]=e,e):this.children[e]},this.mount=function(){this.anchor=document.getElementById(this.id),this.html=this.anchor.outerHTML;for(var e in this.children)null!==document.getElementById(this.children[e].id)?this.children[e].mount():(console.log(e),delete this.children[e]);void 0!==this.mounted&&this.mounted()},this.append=function(e,t){this.cache(e,t),this.anchor.children[0].appendChild(e.anchor),e.mount()},this.prepend=function(e){this.anchor.children[0].insertBefore(e.anchor,this.anchor.children[0].firstChild),e.mount()},this.replace=function(e){this.anchor.replaceWith(e.anchor),e.mount()},this.remove=function(){this.anchor.parentNode.removeChild(this.anchor)}},Zam.on=function(e,t,i){var n=function(e,t,i){if("object"!=typeof t)for(var n=document.querySelectorAll(t),o=n.length,r=0;r<o;r++)n[r].addEventListener(e,i);else t.addEventListener(e,i)};if(t instanceof Zam.component&&(t=t.anchor.children[0]),-1!==e.indexOf(" ")){for(var o=e;-1!==o.indexOf(" ");)n(o.slice(0,o.indexOf(" ")),t,i),o=o.slice(o.indexOf(" ")+1);n(o,t,i)}else n(e,t,i)},Zam.off=function(e,t,i){var n=function(e,t,i){if("object"!=typeof t)for(var n=document.querySelectorAll(t),o=n.length,r=0;r<o;r++)n[r].removeEventListener(e,i);else t.removeEventListener(e,i)};if(t instanceof Zam.component&&(t=t.anchor.children[0]),-1!==e.indexOf(" ")){for(var o=e;-1!==o.indexOf(" ");)n(o.slice(0,o.indexOf(" ")),t,i),o=o.slice(o.indexOf(" ")+1);n(o,t,i)}else n(e,t,i)},Zam.router=function(e){this.routes={};var t=function(e){history.pushState&&window.history.pushState({path:e},"",e)},i=function(){if(window.location.href.lastIndexOf("/")!==window.location.href.length-1)for(var e in this.routes)-1!==window.location.href.indexOf("/"+this.routes[e].view.slice(1))?Zam.css({display:this.routes[e].display},this.routes[e].view):Zam.css({display:"none"},this.routes[e].view);else for(var e in this.routes){Zam.css({display:this.routes[e].display},this.routes[e].view);break}}.bind(this);this.routes=JSON.parse(JSON.stringify(e)),i(),Zam.on("popstate",window,()=>{i()});for(var n in this.routes){var o="click";void 0!==n.event&&(o=n.event),Zam.on(o,"#"+n,e=>{t("/"+this.routes[e.target.id].view.slice(1)),i()})}};